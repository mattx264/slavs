{"version":3,"sources":["webpack:///webpack/bootstrap a9548468fc84aa988fc5","webpack:///./src/app.ts","webpack:///./src/render/Draw.ts","webpack:///./src/interface/point.ts","webpack:///./src/map/Map.ts","webpack:///./src/character/Character.ts","webpack:///./src/interface/Point.ts","webpack:///./src/character/Road.ts","webpack:///./src/helpers/Helper.ts","webpack:///./src/character/village.ts","webpack:///./src/character/Urbanistic.ts","webpack:///./src/character/player.ts","webpack:///./src/test/StartUp.ts"],"names":[],"mappings":"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","file":"./dist/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap a9548468fc84aa988fc5\n **/","//module slavs {\r\n    import {Draw} from \"./render/Draw\";\r\n    import {Map} from \"./map/Map\";\r\n    import {StartUp} from \"./test/StartUp\"\r\n    export class App {\r\n        constructor() {\r\n            \r\n\r\n            let map=new Map(StartUp.map());\r\n            let draw=new Draw(map);\r\n            draw.start();\r\n            //\r\n            //map.add\r\n        }\r\n    }\r\n    window.onload = () => {\r\n        new App();\r\n    };\r\n\r\n   \r\n    \r\n//\r\n//}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/app.ts\n **/","import {Map} from '../map/map';\r\nimport {Character} from '../character/Character';\r\nimport {Urbanistic} from '../character/Urbanistic';\r\nimport {Village} from '../character/village';\r\nimport {Point} from '../interface/point'\r\nexport class Draw {\r\n    private list: any[] = [];\r\n    private _r: number = 30;\r\n    private urbanisticDrawLine = null;\r\n    ctx: CanvasRenderingContext2D;\r\n\r\n    public constructor(private map: Map) {\r\n        var canvas = <HTMLCanvasElement>document.getElementById('canvas')\r\n        this.ctx = canvas.getContext('2d');\r\n        this.ctx.canvas.width = 1000;\r\n        this.ctx.canvas.height = 500;\r\n        this.setupClick(canvas);\r\n        this.map = map;\r\n        //\r\n        this.animation();\r\n    }\r\n    private clear() {\r\n        this.ctx.clearRect(0, 0, this.ctx.canvas.width, this.ctx.canvas.height)\r\n    }\r\n    public animation = () => {\r\n        //setTimeout(()=>{\r\n        this.clear();\r\n        this.drawUrbanistic();\r\n        this.drawCharacter();\r\n        if (this.urbanisticDrawLine != null) {\r\n            this.ctx.beginPath();\r\n            this.ctx.moveTo(this.urbanisticDrawLine.start.x, this.urbanisticDrawLine.start.y);\r\n            this.ctx.lineTo(this.urbanisticDrawLine.end.x, this.urbanisticDrawLine.end.y);\r\n            this.ctx.stroke();\r\n        }\r\n        requestAnimationFrame(this.animation)\r\n        //},1000/60)\r\n    }\r\n    private drawUrbanistic() {\r\n        for (let i = 0; i < this.map.Urbanistic.length; i++) {\r\n\r\n            let urbanistic: Urbanistic = this.map.Urbanistic[i];\r\n            this.ctx.beginPath();\r\n            this.ctx.arc(urbanistic.x, urbanistic.y, this._r, 0, 2 * Math.PI, false);\r\n            this.ctx.fillStyle = 'green';\r\n            this.ctx.fill();\r\n            this.ctx.lineWidth = 2;\r\n            this.ctx.strokeStyle = urbanistic.player.color;\r\n            this.ctx.stroke();\r\n\r\n            if (urbanistic.showInside === true) {\r\n                if (urbanistic.armySlotSlot) {\r\n                    for (let i = 0; i < urbanistic.armySlotSlot.length; i++) {\r\n                        //todo finish this\r\n                        let position = urbanistic.radius * 2;\r\n                        let armyPoint = new Point(urbanistic.x, urbanistic.y + position);\r\n                        this.ctx.beginPath();\r\n                        this.ctx.rect(armyPoint.x, armyPoint.y, 20, 20);\r\n                        this.ctx.strokeStyle = \"red\";\r\n\r\n                        this.ctx.stroke();\r\n                    }\r\n                }\r\n                // this.ctx.beginPath();\r\n                // this.ctx.arc(urbanistic.x, urbanistic.y, this._r * 2, 0, 2 * Math.PI, false);\r\n                // this.ctx.fillStyle = 'brown';\r\n                // this.ctx.fill();\r\n                this.ctx.beginPath();\r\n                let position = urbanistic.radius * 2;\r\n                let btnPoint = new Point(urbanistic.x, urbanistic.y - position);\r\n                this.ctx.arc(btnPoint.x, btnPoint.y, 20, 0, 2 * Math.PI, false);\r\n                this.ctx.fillStyle = 'red';\r\n                this.ctx.fill();\r\n                this.ctx.closePath();\r\n                this.ctx.beginPath();\r\n\r\n                // this.ctx.arc(urbanistic.x - position, urbanistic.y, 10, 0, 2 * Math.PI, false);\r\n                // this.ctx.fillStyle = 'gold';\r\n                // this.ctx.fill();\r\n                // this.ctx.closePath();\r\n                //todo this.map.buttons.length have to be change to check if button is added or move this logic some other place\r\n                if (this.map.buttons.length == 0) {\r\n                    this.map.addButtons(btnPoint, urbanistic.MassMobilization);\r\n                    //this.map.addButtons(btnPoint, urbanistic.MassMobilization)\r\n                }\r\n\r\n            } else {\r\n                this.ctx.fillText(urbanistic.population.toString(), urbanistic.x, urbanistic.y - this._r - 10);\r\n                this.ctx.fillText(urbanistic.food.toString(), urbanistic.x + 20, urbanistic.y - this._r - 10);\r\n\r\n            }\r\n        }\r\n        for (let i = 0; i < this.map.Road.length; i++) {\r\n            let road = this.map.Road[i]\r\n            this.ctx.beginPath();\r\n            this.ctx.moveTo(road.x1, road.y1);\r\n            this.ctx.strokeStyle = '#795548';\r\n            this.ctx.lineWidth = 3;\r\n            this.ctx.bezierCurveTo(road.cx1, road.cy1, road.cx2, road.cy2, road.x2, road.y2);\r\n            this.ctx.stroke();\r\n        }\r\n    }\r\n    private drawCharacter() {\r\n\r\n        for (let i = 0; i < this.map.Character.length; i++) {\r\n            let character: Character = this.map.Character[i];\r\n            let point = character.draw();\r\n            if (point === null) {//it get to end\r\n                this.map.Character.splice(i, 1);\r\n                i--;\r\n            } else {\r\n                this.ctx.beginPath();\r\n                this.ctx.rect(point.x, point.y, 20, 20);\r\n                this.ctx.stroke();\r\n            }\r\n        }\r\n    }\r\n\r\n    public addRoad(object: any) {\r\n        this.ctx.beginPath();\r\n        this.ctx.moveTo(object.x1, object.y1);\r\n        this.ctx.bezierCurveTo(object.cx1, object.cy1, object.cx2, object.cy2, object.x2, object.y2);\r\n        this.ctx.stroke();\r\n    }\r\n    private setupClick(elem: any) {\r\n\r\n        // Add event listener for `click` events.\r\n        elem.addEventListener('click', (event) => {\r\n\r\n            for (let i = 0; i < this.map.buttons.length; i++) {\r\n                let button = this.map.buttons[i];\r\n\r\n                if (Math.sqrt(Math.pow(event.pageX - button.point.x, 2) + Math.pow(event.pageY - button.point.y, 2)) < 20) {\r\n                    button.click();\r\n                    return;\r\n                    //return will cancel active urbanistic we dont wnat thisreturn;\r\n                }\r\n            }\r\n            this.map.diactivateUrbanistic();\r\n\r\n            for (let i = 0; i < this.map.Urbanistic.length; i++) {\r\n                let urbanistic: Urbanistic = this.map.Urbanistic[i];\r\n\r\n                if (Math.sqrt(Math.pow(event.pageX - urbanistic.x, 2) + Math.pow(event.pageY - urbanistic.y, 2)) < this._r) {\r\n                    urbanistic.Clicked();\r\n                    return;\r\n                }\r\n\r\n\r\n            }\r\n        }, false);\r\n\r\n        elem.addEventListener('mousedown', (event) => {\r\n\r\n            for (let i = 0; i < this.map.Urbanistic.length; i++) {\r\n                let urbanistic: Urbanistic = this.map.Urbanistic[i];\r\n                if (Math.sqrt(Math.pow(event.pageX - urbanistic.x, 2) + Math.pow(event.pageY - urbanistic.y, 2)) < this._r) {\r\n                    this.urbanisticDrawLine = urbanistic;\r\n                    this.urbanisticDrawLine.start = {};\r\n                    this.urbanisticDrawLine.end = {}\r\n                    this.urbanisticDrawLine.start.x = urbanistic.x;\r\n                    this.urbanisticDrawLine.start.y = urbanistic.y;\r\n                    this.urbanisticDrawLine.urbanistic = urbanistic;\r\n\r\n                }\r\n\r\n            }\r\n        }, false);\r\n        elem.addEventListener('mousemove', (event) => {\r\n            if (this.urbanisticDrawLine != null) {\r\n                this.urbanisticDrawLine.end.x = event.pageX;\r\n                this.urbanisticDrawLine.end.y = event.pageY;\r\n\r\n            }\r\n\r\n        }, false);\r\n        elem.addEventListener('mouseup', (event) => {\r\n\r\n            for (let i = 0; i < this.map.Urbanistic.length; i++) {\r\n                let urbanistic: Urbanistic = this.map.Urbanistic[i];\r\n                if (Math.sqrt(Math.pow(event.pageX - urbanistic.x, 2) + Math.pow(event.pageY - urbanistic.y, 2)) < this._r) {\r\n                    this.urbanisticDrawLine.Send(this.urbanisticDrawLine.urbanistic, urbanistic);\r\n                    break;\r\n                }\r\n\r\n            }\r\n            this.urbanisticDrawLine = null;\r\n        }, false);\r\n    }\r\n    private drawMap() {\r\n\r\n\r\n        // ctx.globalCompositeOperation = 'destination-over';\r\n        // ctx.clearRect(0, 0, 300, 300); // clear canvas\r\n\r\n        // ctx.fillStyle = 'rgba(0,0,0,0.4)';\r\n        // ctx.strokeStyle = 'rgba(0,153,255,0.4)';\r\n        // ctx.save();\r\n        // ctx.translate(150, 150);\r\n\r\n        // // Earth\r\n        // var time = new Date();\r\n        // ctx.rotate(((2 * Math.PI) / 60) * time.getSeconds() + ((2 * Math.PI) / 60000) * time.getMilliseconds());\r\n        // ctx.translate(105, 0);\r\n        // ctx.fillRect(0, -12, 50, 24); // Shadow\r\n        // ctx.drawImage(earth, -12, -12);\r\n\r\n        // // Moon\r\n        // ctx.save();\r\n        // ctx.rotate(((2 * Math.PI) / 6) * time.getSeconds() + ((2 * Math.PI) / 6000) * time.getMilliseconds());\r\n        // ctx.translate(0, 28.5);\r\n        // ctx.drawImage(moon, -3.5, -3.5);\r\n        // ctx.restore();\r\n\r\n        // ctx.restore();\r\n\r\n        // ctx.beginPath();\r\n        // ctx.arc(150, 150, 105, 0, Math.PI * 2, false); // Earth orbit\r\n        // ctx.stroke();\r\n\r\n        // ctx.drawImage(sun, 0, 0, 300, 300);\r\n\r\n        window.requestAnimationFrame(() => this.drawMap());\r\n    }\r\n    public start() {\r\n        this.drawMap();\r\n\r\n    }\r\n}\r\n//}\n\n\n/** WEBPACK FOOTER **\n ** ./src/render/Draw.ts\n **/","export interface IPoint{\r\n    x:number;\r\n    y:number;\r\n    equal(point:Point):boolean\r\n}\r\nexport class Point implements IPoint{\r\n    x:number;\r\n    y:number;\r\n    constructor(x:number,y:number){\r\n        this.x=x;\r\n        this.y=y;\r\n    }\r\n    equal(point:Point):boolean{\r\n        if(this.x===point.x && this.y===point.y)\r\n            return true;\r\n        return false;\r\n    }\r\n}\r\nexport class BezierCordination{\r\n    constructor(public x1:number,public y1:number,public x2:number,public y2,\r\n    public cx1:number,public cy1,public cx2:number,public cy2:number){\r\n\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/interface/point.ts\n **/","//module slavs{\r\nimport {Draw} from '../render/Draw';\r\nimport {Character,CharacterInfo} from '../character/Character';\r\nimport {Road} from '../character/Road';\r\nimport {Urbanistic} from '../character/Urbanistic';\r\nimport {Village} from '../character/village';\r\nimport {Player} from '../character/player';\r\nimport {Point} from '../interface/point'\r\n//import {Graph} from '../helpers/graph';\r\ndeclare var Graph;\r\nexport class Map {\r\n    Urbanistic: Urbanistic[];\r\n    Road: Road[];\r\n    Character: Character[];\r\n    buttons:any[];\r\n    Player:Player[];\r\n    public addCharacter(start: Urbanistic, end: Urbanistic, characterInfo:CharacterInfo) {\r\n        //todo this have to be dynamic\r\n        var map = { '1': { '2': 1 }, '2': { '1': 1, '3': 1 }, '3': { '2': 1, '4': 1 }, '4': { '3': 1 } },\r\n            graph = new Graph(map);\r\n     //todo finish this in good way\r\n        let list = graph.findShortestPath((this.Urbanistic.indexOf(start) + 1).toString(), (this.Urbanistic.indexOf(end) + 1).toString());\r\n      let returnList=[]; \r\n        for (let i = 0; i < list.length-1; i++) {\r\n            let index = parseInt(list[i]) - 1;\r\n            let index2 = parseInt(list[i + 1]) - 1;\r\n            let urbanistic = this.Urbanistic[index];\r\n            let urbanistic2 = this.Urbanistic[index2];\r\n            returnList.push(this.roadBetween(urbanistic, urbanistic2));\r\n        }\r\n        console.log(list);\r\n        console.log(returnList);\r\n        this.Character.push(new Character(start, end,returnList,characterInfo));\r\n\r\n    }\r\n    \r\n    private roadBetween(urbanistic: Urbanistic, urbanistic2: Urbanistic): any {\r\n        for (let i = 0; i < this.Road.length; i++) {\r\n            if (this.Road[i].isBetween(urbanistic, urbanistic2) == true) {\r\n                if(this.Road[i].isFirst(urbanistic)==true){\r\n                     return {road:this.Road[i],isFirst:true};\r\n                }\r\n                return {road:this.Road[i],isFirst:false};\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    public clearButton(){\r\n        this.buttons=[];\r\n    }\r\n    public addButtons(point:Point,click:Function){\r\n        this.buttons.push({'point':point,click:click})\r\n    }\r\n    public diactivateUrbanistic(){\r\n        for(let i=0;i<this.Urbanistic.length;i++){\r\n            let urbanistic=this.Urbanistic[i];\r\n            urbanistic.showInside=false;\r\n        }\r\n    }\r\n    constructor(mapData) {\r\n        //load map -> maybe json with info about map ???\r\n        /*\r\n    MAP 1-* REGIONS *-* PROPERTISES\r\n        *-*\r\n        Graphic Element eg forest - \r\n        */\r\n        this.buttons=[];\r\n        this.Road = [];\r\n        for (let i = 0; i < mapData.roads.length; i++) {\r\n            //  draw.addRoad(mapData.roads[i])\r\n            let r = mapData.roads[i];\r\n            this.Road.push(new Road(r.x1, r.y1, r.cx1, r.cy1, r.cx1, r.cy1, r.x2, r.y2));\r\n        }\r\n        this.Player=[];\r\n        for(let i=0;i<mapData.players.length;i++){\r\n            let player=mapData.players[i];\r\n            this.Player[player.index]=new Player(player.index, player.color);\r\n        }\r\n        this.Urbanistic = [];\r\n        for (let i = 0; i < mapData.urbanisticLocation.length; i++) {\r\n            // draw.addCity(mapData.urbanisticLocation[i])\r\n            let roadList: Road[] = [];\r\n            let urbanistic=mapData.urbanisticLocation[i];\r\n            for (let j = 0; j < this.Road.length; j++) {\r\n                if (mapData.urbanisticLocation[i].road.indexOf(j) > -1) {\r\n                    let road = this.Road[j];\r\n                    roadList.push(road);\r\n                }\r\n            }\r\n            this.Urbanistic.push(new Village(urbanistic.x, urbanistic.y, roadList,this.Player[urbanistic.player], this));\r\n        }\r\n        \r\n        this.Character = [];\r\n        let regionList = new Region();\r\n    }\r\n\r\n}\r\nclass MapData {\r\n\r\n}\r\nexport class Region {\r\n    constructor() {\r\n\r\n    }\r\n}\r\n//}\n\n\n/** WEBPACK FOOTER **\n ** ./src/map/Map.ts\n **/","import {Urbanistic} from './Urbanistic';\r\nimport {Point} from '../interface/Point';\r\nimport {Road} from '../Character/road';\r\nimport {Helper} from'../helpers/helper'\r\nenum CharacterStatus {\r\n    ACTIVE,\r\n    DONE,\r\n    FIGHT\r\n}\r\nexport class Character {\r\n    public x: number;\r\n    public y: number;\r\n    private currentIndex: number;\r\n    private currentRoad: Road;\r\n    private procentage: number;\r\n    private interval: any;\r\n    private status: CharacterStatus;\r\n    private speed: number;\r\n    private directionBack: boolean;\r\n    constructor(private start: Urbanistic, private end: Urbanistic, private roadList: any[],private characterInfo:CharacterInfo) {\r\n        //to do star* to find path\r\n        //startPoint.findPath(endPoint):Road[];\r\n\r\n        this.status = CharacterStatus.ACTIVE;\r\n        this.speed = 0.01;\r\n        this.currentIndex = 0;\r\n        this.currentRoad = this.roadList[this.currentIndex].road;\r\n        //check what is begin of \r\n\r\n        this.setInit();\r\n        this.timer();\r\n\r\n\r\n    }\r\n    private setInit() {\r\n        if (this.roadList[this.currentIndex].isFirst == true) {\r\n            this.directionBack = true;\r\n            this.procentage = .99;\r\n        } else {\r\n            this.directionBack = false;\r\n            this.procentage = 0;\r\n        }\r\n    }\r\n    public draw(): Point {\r\n        if (this.status === CharacterStatus.ACTIVE) {\r\n            this.getCubicBezierXYatPercent();\r\n            return new Point(this.x, this.y);\r\n        } else if (this.status === CharacterStatus.DONE) {\r\n            return null;\r\n        }\r\n    }\r\n    private timer() {\r\n        this.interval = setInterval(() => {\r\n            if (this.procentage > 1 || this.procentage < 0) {\r\n                if (this.roadList.length == this.currentIndex + 1) {\r\n                    this.status = CharacterStatus.DONE;\r\n                    if(this.characterInfo.type==CharacterType.ATTACK){\r\n                        this.end.raid(this.start)\r\n                    }\r\n                    clearInterval(this.interval);\r\n                }\r\n                else {\r\n                    this.currentIndex++;\r\n                    this.currentRoad = this.roadList[this.currentIndex].road;\r\n                    this.setInit();\r\n                }\r\n\r\n            }\r\n            if (this.directionBack) {\r\n                this.procentage -= 0.01;\r\n            } else {\r\n                this.procentage += 0.01;\r\n            }\r\n\r\n        }, 100);\r\n    }\r\n    getCubicBezierXYatPercent() {\r\n        this.x = this.CubicN(this.procentage, this.currentRoad.x1, this.currentRoad.cx1, this.currentRoad.cx2, this.currentRoad.x2);\r\n        this.y = this.CubicN(this.procentage, this.currentRoad.y1, this.currentRoad.cy1, this.currentRoad.cy2, this.currentRoad.y2);\r\n        this.x -= 10;\r\n        this.y -= 10;\r\n    }\r\n    CubicN(pct, a, b, c, d) {\r\n        var t2 = pct * pct;\r\n        var t3 = t2 * pct;\r\n        return a + (-a * 3 + pct * (3 * a - a * pct)) * pct + (3 * b + pct * (-6 * b + b * 3 * pct)) *\r\n            pct + (c * 3 - c * 3 * pct) * t2 + d * t3;\r\n    }\r\n    getBezierLength() {\r\n        // chord = (p3-p0).Length;\r\n        // cont_net = (p0 - p1).Length + (p2 - p1).Length + (p3 - p2).Length;\r\n\r\n        // app_arc_length = (cont_net + chord) / 2;\r\n    }\r\n}\r\nexport class CharacterInfo{\r\n    constructor(public type:CharacterType,public value1:number, public value2?:number,public value3?:number){\r\n\r\n    }\r\n}\r\nexport enum CharacterType{\r\n    ATTACK,\r\n    food,\r\n    people,\r\n    money\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/character/Character.ts\n **/","export interface IPoint{\r\n    x:number;\r\n    y:number;\r\n    equal(point:Point):boolean\r\n}\r\nexport class Point implements IPoint{\r\n    x:number;\r\n    y:number;\r\n    constructor(x:number,y:number){\r\n        this.x=x;\r\n        this.y=y;\r\n    }\r\n    equal(point:Point):boolean{\r\n        if(this.x===point.x && this.y===point.y)\r\n            return true;\r\n        return false;\r\n    }\r\n}\r\nexport class BezierCordination{\r\n    constructor(public x1:number,public y1:number,public x2:number,public y2,\r\n    public cx1:number,public cy1,public cx2:number,public cy2:number){\r\n\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/interface/Point.ts\n **/","import {Point} from '../interface/point';\r\nimport {Urbanistic} from './Urbanistic';\r\nimport {Helper} from '../helpers/Helper';\r\nexport class Road {\r\n    FirstUrbanistic: Urbanistic;\r\n    SeconddUrbanistic: Urbanistic;\r\n    get beginPoint(): Point {\r\n        return new Point(this.x1, this.y1);\r\n    }\r\n    get endPoint(): Point {\r\n        return new Point(this.x2, this.y2);\r\n    }\r\n    equal(road: Road): boolean {\r\n        if (this.beginPoint.equal(road.beginPoint) === true && this.endPoint.equal(road.endPoint) === true)\r\n            return true\r\n        return false\r\n    }\r\n    addUrbanistic(urbanistic: Urbanistic) {\r\n        if (Helper.isInsideCircle(urbanistic.point, this.beginPoint, urbanistic.radius) == false) {\r\n            this.FirstUrbanistic = urbanistic;\r\n        } else {\r\n            this.SeconddUrbanistic = urbanistic;\r\n        }\r\n    }\r\n    isBetween(urbanistic: Urbanistic,urbanistic2: Urbanistic):boolean{\r\n        if((this.FirstUrbanistic.equal(urbanistic)||this.FirstUrbanistic.equal(urbanistic2))\r\n        &&(this.SeconddUrbanistic.equal(urbanistic)||this.SeconddUrbanistic.equal(urbanistic2))){\r\n            return true\r\n        }\r\n        return false;\r\n    }\r\n    isFirst(urbanistic: Urbanistic):boolean{\r\n        if(this.FirstUrbanistic.equal(urbanistic)){\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    isInList(roadList: Road[]) {\r\n        for (let i = 0; i < roadList.length; i++) {\r\n            if (roadList[i].equal(this))\r\n                return true;\r\n        }\r\n        return false;\r\n    }\r\n    constructor(public x1: number, public y1: number, public cx1: number, public cy1: number,\r\n        public cx2: number, public cy2: number, public x2: number, public y2: number) {\r\n        this.FirstUrbanistic = null;\r\n\r\n        this.SeconddUrbanistic = null;\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/character/Road.ts\n **/","import {Point} from '../interface/point'\r\nexport class Helper {\r\n    static isInsideCircle(circleCenter: Point, point: Point, r: number): boolean {\r\n\r\n        return Math.sqrt(Math.pow(point.x - circleCenter.x, 2) + Math.pow(point.y - circleCenter.y, 2)) < r ==true ? true : false;\r\n\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/helpers/Helper.ts\n **/","//import {Urbanistic} from \r\nimport {Urbanistic} from './Urbanistic';\r\nimport {Map} from '../map/map';\r\nimport {Road} from './Road';\r\nimport {Player} from './player';\r\nimport {Point} from '../interface/point';\r\nimport {CharacterInfo, CharacterType} from './Character'\r\nexport class Village extends Urbanistic {\r\n    constructor(public x: number, public y: number, public road: Road[], public player: Player, map: Map) {\r\n        super(x, y, road, player, map);\r\n        this._population = 12;\r\n        if (player.index > 0)\r\n            this.timer();\r\n    }\r\n    public Clicked() {\r\n        if (this.player.index == 1) {\r\n\r\n            this._showInside = true;\r\n\r\n        }\r\n    }\r\n    private timer() {\r\n        this.interval = setInterval(() => {\r\n            if (this._foodMax > this._food)\r\n                this._food += (this.population * 0.01);\r\n            if (this._populationMax > this._population)\r\n                this._population += (this._population * 0.01);\r\n\r\n        }, 1000);\r\n    }\r\n    public MassMobilization = () => {\r\n        console.log(\"Pospolite ruszenie\")\r\n        let num = this._population / 2\r\n        this._population = num;\r\n        //todo remove warrior \r\n        this._warrior = num;\r\n        //todo this have to be dynamic and it need slot max\r\n        this._armySlot[0]={type:ArmyType.WARRIOR,number:num};\r\n    }\r\n    public Send = (urbanisticStart: Urbanistic, urbanisticEnd: Urbanistic) => {\r\n        if (!urbanisticStart.point.equal(urbanisticEnd.point)) {\r\n            if (urbanisticEnd.player.index != 1) {\r\n                if (this._warrior > 0 || this._knight > 0)\r\n                    if (this._warrior+this._knight<=this._food){\r\n                        let food=this._warrior+this._knight;\r\n                        this._food-=food;\r\n                        this.map.addCharacter(urbanisticStart, urbanisticEnd, new CharacterInfo(CharacterType.ATTACK, this._warrior, this._knight, food));\r\n                    }\r\n            }\r\n        }\r\n\r\n    }\r\n    \r\n}\r\nexport enum ArmyType{\r\n    WARRIOR,\r\n    KNIGHT\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/character/village.ts\n **/","import {Road} from './Road'\r\nimport {Map} from '../map/map';\r\nimport {Point} from '../interface/point';\r\nimport {Player} from '../character/player';\r\nexport abstract class Urbanistic {\r\n    protected _population: number;\r\n    protected _populationMax: number;\r\n    protected _warrior: number;\r\n    protected _knight: number;\r\n    public radius: number;\r\n    protected interval;\r\n    protected _food: number;\r\n    protected _foodMax: number;\r\n    protected _showInside: boolean;\r\n    protected _money: number;\r\n    protected _armySlot:any[];\r\n    get population(): number {\r\n        if (this._population == null)\r\n            return 0;\r\n        return parseInt(this._population.toString());\r\n\r\n    }\r\n    get food(): number {\r\n        if (this._food == null)\r\n            return 0;\r\n        return parseInt(this._food.toString());\r\n    }\r\n    get point(): Point {\r\n        return new Point(this.x, this.y);\r\n    }\r\n    get showInside(): boolean {\r\n        return this._showInside;\r\n    }\r\n    set showInside(show: boolean) {\r\n        this._showInside = show;\r\n    }\r\n    get armySlotSlot():any[]{\r\n        return this._armySlot;\r\n    }\r\n    equal(urbanistic: Urbanistic): boolean {\r\n        return urbanistic.point.equal(this.point) ? true : false;\r\n    }\r\n    constructor(public x: number, public y: number, public road: Road[], public player: Player, protected map: Map) {\r\n        //todo diffrent radius for diffrent place OR maybe not\r\n        this.radius = 30;\r\n        this._food = 10;\r\n        this._populationMax = 30;\r\n        this._foodMax = 30;\r\n        this._warrior=0;\r\n        this._knight=0;\r\n        this._showInside = false;\r\n        this._armySlot=[];\r\n        for (let i = 0; i < road.length; i++) {\r\n            road[i].addUrbanistic(this);\r\n        }\r\n    }\r\n    public MassMobilization = () => { };\r\n\r\n    public Clicked() {\r\n    }\r\n    public Send = (urbanisticStart: Urbanistic, urbanisticEnd: Urbanistic) => {\r\n\r\n    }\r\n    public raid(from:Urbanistic){\r\n       // if(from.player.index)\r\n       //todo check if attacker have capitol of region if yes it can be capture else on raid\r\n       //yes it has capitol\r\n       \r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/character/Urbanistic.ts\n **/","export class Player{\r\n    constructor(public index,public color){\r\n\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** ./src/character/player.ts\n **/","export  class StartUp{\r\n    public static map()\r\n    {\r\n        return {\r\n            urbanisticLocation:[{x:130,y:250,road:[0],player:0,region:1},{x:300,y:230 ,road:[0,1],player:0  ,region:1 },\r\n            {   x:260,y:90,road:[1,2],player:1,region:1},{   x:390,y:100,road:[2],player:0,region:1}],\r\n            roads:[{x1:130 ,y1:250,x2:300 ,y2:230,cx1:200,cy1:257,cx2:274,cy2:344},\r\n                {x1:300 ,y1:230,x2:260 ,y2:90,cx1:200,cy1:200,cx2:100,cy2:80},\r\n                {x1:260 ,y1:90,x2:390 ,y2:100,cx1:300,cy1:50,cx2:390,cy2:100}\r\n            ],players:[{index:1,color:'#f44336'},{index:0,color:'#9e9e9e'},{index:2,color:'#ffeb3b'},{index:3,color:'#3f51b5'}]\r\n        }\r\n    }\r\n}3\n\n\n/** WEBPACK FOOTER **\n ** ./src/test/StartUp.ts\n **/"],"sourceRoot":""}